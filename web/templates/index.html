<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700&family=Righteous&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static',filename='styles/text.css') }}">
    <script type="text/javascript" src="{{ url_for('static',filename='javascript/static.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='javascript/navbar.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='javascript/peopleStats.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='javascript/radarChart.js') }}"></script>
    <script type="text/javascript" src="{{ url_for('static',filename='javascript/contributionOverTimeChart.js') }}"></script>
    <script src="https://d3js.org/d3.v5.min.js"></script>
    <title>Glorious Geese</title>
</head>

<body id="fellowship-wide">
    <script>
        body = d3.select("body#fellowship-wide")
            .style("background-color", colors.white)
            .style("padding", "20px 24px 20px 24px")
        renderNavbar(body)

        body = body.append("div")
            .style("padding", "0 10% 0 10%")
        const loadData = async() => {
            let globalData = await await fetch(`https://fellowship-class-profile.herokuapp.com/global_stats`)
            globalData = await globalData.json()
            console.log(globalData)

            let imageAttr = {
                height: 300,
                width: 300
            }

            body.append("div")
                .style("margin-top", "300px")
                .append("svg")
                .attr("height", imageAttr.height)
                .attr("width", imageAttr.width)
                .append("image")
                .attr("href", "../static/icons/undraw_design_team_af2y.svg")
                .attr("height", imageAttr.height)
                .attr("width", imageAttr.width)
                .attr("x", 0)
                .attr("y", 0)

            body.append("div")
                .attr("class", "header")
                .style("color", colors.black)
                .html("Statistics for Class 0.")

            renderPeopleStats(body, globalData)
            renderGlobalContributionOverTimeChart(body, globalData)
            renderSpiderChart(body, globalData)

            body.append("div")
                .attr("class", "subheader")
                .style("color", colors.black)
                .html("Repository contributions")
            body.append("div")
                .attr("class", "caption")
                .style("color", colors.black)
                .html("This is how we contributed across repositories.")
            let div = body.append("div")
                .style("display", "flex")
                .style("align-items", "center")
                .style("justify-content", "center")
                .style("width", "100%")
            let svg = div.append("svg")
                .attr("height", 700)
                .attr("width", 1000)
            let height = svg.attr("height")
            let width = svg.attr("width")

        }
        loadData()

    </script>
    <script type="text/javascript" src="{{ url_for('static',filename='javascript/confetti.js') }}">
    </script>
</body>

</html>